#include "mat4.h"

mat4 mat4::transpose() {
    mat4 a = (*this);
    double a01 = a[1], a02 = a[2], a03=a[3], a12=a[6], a13 = a[7], a23 = a[11];
    a[1] = a[4];
    a[2] = a[8];
    a[3] = a[12];
    a[4] = a01;
    a[6] = a[9];
    a[7] = a[13];
    a[8] = a02;
    a[9] = a12;
    a[11] = a[14];
    a[12] = a03;
    a[13] = a13;
    a[14] = a23;
    
    return a;
}
mat4 mat4::invert() {
    mat4 a = (*this);

    return a;
}

double mat4::det() {
    mat4 a = (*this);
    double a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],
            a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],
            a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],
            a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    
    double b00 = a00 * a11 - a01 * a10,
            b01 = a00 * a12 - a02 * a10,
            b02 = a00 * a13 - a03 * a10,
            b03 = a01 * a12 - a02 * a11,
            b04 = a01 * a13 - a03 * a11,
            b05 = a02 * a13 - a03 * a12,
            b06 = a20 * a31 - a21 * a30,
            b07 = a20 * a32 - a22 * a30,
            b08 = a20 * a33 - a23 * a30,
            b09 = a21 * a32 - a22 * a31,
            b10 = a21 * a33 - a23 * a31,
            b11 = a22 * a33 - a23 * a32;

    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
}
mat4 mat4::multiply(const mat4 & b) {
    mat4 a = (*this);
    double a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],
            a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],
            a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],
            a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];

    return a;
}

mat4 mat4::translate(const vec4 & v) {
    mat4 a = (*this);

    return a;
}
mat4 mat4::scale(double a) {
    mat4 c = (*this);

    for(int i = 0; i < 16; i++) {
        c[i] *= a;
    }

    return c;
}
mat4 mat4::rotate(double angle, const vec4 & axis) {
    mat4 a = (*this);

    return a;
}